# 目的

社内研修用仮想サービス管理システムは、仮想サービスのバックオフィスにおける加入者管理業務や請求業務を電子化することで、自動化、効率化を図るため構築を行うものである。

# 研修用の仮想サービスについて

## サービス加入者数

研修用仮想サービスの加入者数は、現時点で1,000人程度。なお、最大で10,000人程度の管理を想定している。

## 料金

加入者全員に対し、複数の種類の月額料金を設定できる。

## 請求

毎月1日に、前月分(1日～末日)の適用対象となる月額料金の合計に消費税10％を加えた金額を加入中の加入者に請求する。加入者の支払いはそれぞれが指定した決済方法にて行う。
決済方法は銀行振込決済、クレジットカード決済のいずれかとなり、請求項目ごとの決済方法の変更、按分請求はできない。
月額料金の日割りは発生しない。加入日、退会日にかかわらず満額請求する。

# システム機能要件

社内研修用サービス管理システムに必要な機能要件は次の通り。

1. 加入者情報管理機能
2. 料金管理機能
3. 請求情報作成機能

1、2の機能は、利用可能端末の限定やシステム更新処理運用コストが増大しないよう、各管理機能はWebアプリケーションとして作成する。
3の機能は、月末にバックグラウンド側のバッチ処理として作成する。

## 加入者情報管理機能

社内研修用サービスに加入した個人の情報を管理する。

表 1-1

| 項目 | 説明 |
|------|------|
| 加入者番号 | 本システムの単位となる、加入者を特定するための番号。|
| 氏名 | 問合せ対応や請求書の送付先加入者の氏名。 |
| 住所 | 問合せ対応や請求書の送付先加入者の住所。 |
| 加入日 | 請求データ作成の料金計算加入した日。 |
| 退会日 | 請求データ作成の料金計算退会した日。 |
| 決済方法 | 後続システムに対する料金回収方法の共有利用料金の決済方法。|

##	料金管理機能

基本料金や、加入者が任意で加入できる追加オプションなどのサービスの料金に関する情報を管理する。

表 1-2
| 項目 | 説明 |
| ---- | ---- |
| 料金名 | 料金を識別するための名前。|
| 月額料金 | 適用されている加入者に請求する月額料金 |
| 適用開始日 | この料金の適用を開始する日 |
| 適用終了日 | この料金の適用が修了する日 |

3.3	請求データ作成機能

社内で稼働中の請求・回収システムに連携するための請求データを作成する。
後続の請求・回収システムは、連携された情報を元に、請求書の発行、入金消込管理、回収管理、売上・売掛管理等をおこなう。

請求データは、

① 加入者毎の請求される月額料金や、決済方法などがまとまった請求情報
② ①の月額利用料合計について詳細な料金情報がまとまった明細情報

で構成される。

① は、表 1-3 ような情報を持つ。

表 1-3
| 項目 | 説明 |
|------|------|
| 請求年月 | 料金を識別するための名前。|
| 加入者氏名 | 請求データ作成時点の加入者氏名 |
| 加入者住所 | 請求データ作成時点の加入者住所 |
| 決済方法 | 請求データ作成時点の決済方法 |
| 月額利用料合計 | 利用料合計金額 |

② は、表 1-4 ような情報を持つ。

表 1-4

| 項目 | 説明 |
|------|------| 
| 請求年月 | 料金を識別するための名前。|
| 料金名 | 適用されている加入者に請求する月額料金 |
| 月額料金 | 請求データ作成時点の月額料金 |
| 適用開始日 | 請求データ作成時点の適用開始日 |
| 適用終了日 | 請求データ作成時点の適用終了日 |


# 非機能要件

サービス管理システムの利き脳要件を以下の通りとする。なお、以下に示したもの以外の非機能要件は省略する(定義しない)。

## パフォーマンス

### フロントエンド

各画面は、Webブラウザからのリクエストを受信してから3秒以内にレスポンスし、画面表示できること。

### バッチ処理

請求データ作成処理は、想定する最大加入者数で1分(60秒)以内に処理が完了すること。

## セキュリティ

### 認証

サービス管理システムは、以下のいずれかの認証機能を有し、利用が許可されたもののみアクセスできる。

1.	ユーザ名パスワードによる基本認証
2.	社内IdPを利用したOpenID認証(SSO)

なお、1.の手段を取る場合は、パスワードを平文のままにせず、ハッシュ化して保管すること。

### 認可

サービス管理システムは、認証済みのユーザに1つ以上の役割を与え、その役割に適した情報に対してアクセスを許可する。

### 脆弱性対応

各管理機能において、アクセス権限がない第三者から不正アクセスされても、情報が漏れないように作成すること。
参考）IPA「安全なウェブサイトの作り方 改定第7版」2021年3月発行
